{"version":3,"sources":["webpack:///./examples/simple.js","webpack:///external \"React\"","webpack:///./index.js","webpack:///./src/index.js","webpack:///./src/Upload.jsx","webpack:///./src/AjaxUploader.jsx","webpack:///./~/superagent/lib/client.js","webpack:///./~/superagent/~/component-emitter/index.js","webpack:///./~/superagent/~/reduce-component/index.js","webpack:///./src/uid.js","webpack:///./src/IframeUploader.jsx","webpack:///./~/warning/browser.js","webpack:///(webpack)/~/node-libs-browser/~/process/browser.js"],"names":[],"mappings":"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A;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,aAAY,OAAO;AACnB,cAAa;AACb;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,sCAAqC,SAAS;AAC9C;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,mBAAkB;AAClB;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,YAAW,OAAO;AAClB,aAAY;AACZ;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,eAAc;;AAEd,sCAAqC,SAAS;AAC9C;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,YAAW,OAAO;AAClB,aAAY;AACZ;AACA;;AAEA;AACA,wBAAuB;AACvB;;AAEA;AACA;AACA;AACA,YAAW,OAAO;AAClB,aAAY;AACZ;AACA;;AAEA;AACA,+BAA8B;AAC9B;AACA;AACA;;AAEA;AACA;AACA,IAAG,IAAI;AACP;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6CAA4C;AAC5C,yCAAwC;AACxC;AACA;AACA;AACA;AACA;AACA,kBAAiB,aAAa;AAC9B,+BAA8B;AAC9B;AACA;AACA;AACA;AACA;AACA,kBAAiB,aAAa,iBAAiB;AAC/C;AACA;AACA;AACA;AACA,2BAA0B,aAAa;AACvC,+BAA8B;AAC9B;AACA;AACA;AACA;AACA,2BAA0B,aAAa,iBAAiB;AACxD;AACA,YAAW,eAAe;AAC1B,YAAW,OAAO;AAClB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,YAAW,OAAO;AAClB,aAAY;AACZ;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,4CAA2C;AAC3C;AACA;AACA,YAAW,OAAO;AAClB;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW,OAAO;AAClB,aAAY;AACZ;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW,OAAO;AAClB;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAY;AACZ;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,YAAW,OAAO;AAClB,YAAW,OAAO;AAClB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,IAAG;AACH;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,YAAW,OAAO;AAClB,aAAY,QAAQ;AACpB;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAY,QAAQ;AACpB;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAY;AACZ;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAgB,oDAAoD;AACpE;AACA;AACA,YAAW,cAAc;AACzB,YAAW,OAAO;AAClB,aAAY,QAAQ;AACpB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW,OAAO;AAClB,aAAY,QAAQ;AACpB;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,YAAW,OAAO;AAClB,aAAY;AACZ;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW,OAAO;AAClB,aAAY,QAAQ;AACpB;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW,OAAO;AAClB,aAAY,QAAQ;AACpB;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,YAAW,OAAO;AAClB,YAAW,OAAO;AAClB,aAAY,QAAQ;AACpB;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAc,gBAAgB;AAC9B;AACA,WAAU,cAAc;AACxB,YAAW,QAAQ;AACnB;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW,OAAO;AAClB,YAAW,iBAAiB;AAC5B,aAAY,QAAQ;AACpB;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,8DAA6D,mBAAmB;AAChF;AACA;AACA;AACA,YAAW,OAAO;AAClB,YAAW,UAAU;AACrB,YAAW,OAAO;AAClB,aAAY,QAAQ;AACpB;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAkB,kBAAkB;AACpC,mBAAkB,gBAAgB;AAClC,mBAAkB,gBAAgB;AAClC;AACA;AACA;AACA;AACA;AACA,oBAAmB,YAAY;AAC/B;AACA;AACA;AACA;AACA,mBAAkB,aAAa;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAkB,aAAa;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW,cAAc;AACzB,aAAY,QAAQ;AACpB;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA,IAAG;AACH;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,YAAW,MAAM;AACjB,YAAW,SAAS;AACpB;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,YAAW,SAAS;AACpB,aAAY,QAAQ;AACpB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,UAAS,sBAAsB,WAAW,YAAY;;AAEtD;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW,OAAO;AAClB,YAAW,gBAAgB;AAC3B,aAAY;AACZ;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,YAAW,OAAO;AAClB,YAAW,eAAe;AAC1B,YAAW,SAAS;AACpB,aAAY;AACZ;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,YAAW,OAAO;AAClB,YAAW,eAAe;AAC1B,YAAW,SAAS;AACpB,aAAY;AACZ;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,YAAW,OAAO;AAClB,YAAW,SAAS;AACpB,aAAY;AACZ;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,YAAW,OAAO;AAClB,YAAW,MAAM;AACjB,YAAW,SAAS;AACpB,aAAY;AACZ;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,YAAW,OAAO;AAClB,YAAW,MAAM;AACjB,YAAW,SAAS;AACpB,aAAY;AACZ;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,YAAW,OAAO;AAClB,YAAW,eAAe;AAC1B,YAAW,SAAS;AACpB,aAAY;AACZ;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;;;;;;;ACjmCA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,YAAW,OAAO;AAClB,aAAY;AACZ;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,YAAW,OAAO;AAClB,YAAW,SAAS;AACpB,aAAY;AACZ;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA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","file":"simple.js","sourcesContent":["var React = require('react');\nvar Upload = require('rc-upload');\nvar props = {\n  action: '/upload.do',\n  data: {a: 1, b: 2},\n  multiple: true,\n  onStart(files) {\n    const file = files[0];\n    console.log('onStart', file, file.name);\n  },\n  onSuccess(ret) {\n    console.log('onSuccess', ret);\n  },\n  onProgress(step, file) {\n    console.log('onProgress', step, file);\n  },\n  onError(err){\n    console.log('onError', err);\n  }\n};\n\n// document.domain = 'alipay.net';\n\nconst Test = React.createClass({\n  getInitialState(){\n    return {\n      destroyed: false,\n    };\n  },\n\n  destroy() {\n    this.setState({\n      destroyed: true,\n    });\n  },\n\n  render() {\n    if (this.state.destroyed) {\n      return null;\n    }\n    return (<div style={{margin:100}}>\n      <h2>固定位置</h2>\n\n      <div>\n        <Upload {...props}><a href=\"#nowhere\">开始上传</a></Upload>\n      </div>\n\n      <h2>滚动</h2>\n\n      <div style={{height:200,overflow:'auto',border:'1px solid red'}}>\n        <div style={{height:500}}>\n          <Upload {...props}><a href=\"#nowhere\">开始上传2</a></Upload>\n        </div>\n      </div>\n\n      <button onClick={this.destroy}>destroy</button>\n    </div>);\n  }\n});\n\nReact.render(<Test/>, document.getElementById('__react-content'));\n\n\n\n/** WEBPACK FOOTER **\n ** ./examples/simple.js\n **/","module.exports = React;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"React\"\n ** module id = 2\n ** module chunks = 0\n **/","// do not modify this file\nmodule.exports = require('./src/');\n\n\n\n/** WEBPACK FOOTER **\n ** ./index.js\n **/","// export this package's api\nmodule.exports = require('./Upload');\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/index.js\n **/","import React, {PropTypes} from 'react';\nimport AjaxUpload from './AjaxUploader';\nimport IframeUpload from './IframeUploader';\n\nfunction empty() {\n}\n\nconst Upload = React.createClass({\n  propTypes: {\n    forceAjax: PropTypes.bool,\n    action: PropTypes.string,\n    name: PropTypes.string,\n    multipart: PropTypes.bool,\n    onError: PropTypes.func,\n    onSuccess: PropTypes.func,\n    onProgress: PropTypes.func,\n    onStart: PropTypes.func,\n    data: PropTypes.object,\n    accept: PropTypes.string,\n    multiple: PropTypes.bool,\n  },\n\n  getDefaultProps() {\n    return {\n      data: {},\n      name: 'file',\n      forceAjax: false,\n      multipart: false,\n      onProgress: empty,\n      onStart: empty,\n      onError: empty,\n      onSuccess: empty,\n      multiple: false,\n    };\n  },\n\n  render() {\n    const props = this.props;\n    // node 渲染根据 ua 强制设置 forceAjax 或者支持FormData的情况使用AjaxUpload\n    if (props.forceAjax || typeof FormData !== 'undefined') {\n      return <AjaxUpload {...props} />;\n    }\n\n    return <IframeUpload {...props} />;\n  },\n});\n\nexport default Upload;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/Upload.jsx\n **/","import request from 'superagent';\nimport React, {PropTypes} from 'react';\nimport uid from './uid';\n\nconst AjaxUploader = React.createClass({\n  propTypes: {\n    multiple: PropTypes.bool,\n    onStart: PropTypes.func,\n    data: PropTypes.object,\n  },\n\n  onChange(e) {\n    const files = e.target.files;\n    this.uploadFiles(files);\n  },\n\n  onClick() {\n    const el = React.findDOMNode(this.refs.file);\n    if (!el) {\n      return;\n    }\n    el.click();\n    el.value = '';\n  },\n\n  onKeyDown(e) {\n    if (e.key === 'Enter') {\n      this.onClick();\n    }\n  },\n\n  onFileDrop(e) {\n    if (e.type === 'dragover') {\n      return e.preventDefault();\n    }\n\n    const files = e.dataTransfer.files;\n    this.uploadFiles(files);\n\n    e.preventDefault();\n  },\n\n  render() {\n    const hidden = {display: 'none'};\n    const props = this.props;\n    return (\n      <span onClick={this.onClick} onKeyDown={this.onKeyDown} onDrop={this.onFileDrop} onDragOver={this.onFileDrop}\n            role=\"button\" tabIndex=\"0\">\n        <input type=\"file\"\n               ref=\"file\"\n               style={hidden}\n               accept={props.accept}\n               multiple={this.props.multiple}\n               onChange={this.onChange}/>\n        {props.children}\n      </span>\n    );\n  },\n\n  uploadFiles(files) {\n    const len = files.length;\n    if (len > 0) {\n      for (let i = 0; i < len; i++) {\n        const file = files.item(i);\n        file.uid = uid();\n        this.post(file);\n      }\n      if (this.props.multiple) {\n        this.props.onStart(Array.prototype.slice.call(files));\n      } else {\n        this.props.onStart(Array.prototype.slice.call(files)[0]);\n      }\n    }\n  },\n\n  post(file) {\n    const props = this.props;\n    const req = request\n      .post(props.action)\n      .attach(props.name, file, file.name);\n    let data = props.data;\n    if (typeof data === 'function') {\n      data = data();\n    }\n\n    for (const key in data) {\n      if (data.hasOwnProperty(key)) {\n        req.field(key, data[key]);\n      }\n    }\n\n    function progress(e) {\n      props.onProgress(e, file);\n    }\n\n    req.on('progress', progress);\n\n    req.end((err, ret) => {\n      req.off('progress', progress);\n      if (err || ret.status !== 200) {\n        props.onError(err, ret, file);\n        return;\n      }\n\n      props.onSuccess(ret.body || ret.text, file);\n    });\n  },\n});\n\nexport default AjaxUploader;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/AjaxUploader.jsx\n **/","/**\n * Module dependencies.\n */\n\nvar Emitter = require('emitter');\nvar reduce = require('reduce');\n\n/**\n * Root reference for iframes.\n */\n\nvar root = 'undefined' == typeof window\n  ? (this || self)\n  : window;\n\n/**\n * Noop.\n */\n\nfunction noop(){};\n\n/**\n * Check if `obj` is a host object,\n * we don't want to serialize these :)\n *\n * TODO: future proof, move to compoent land\n *\n * @param {Object} obj\n * @return {Boolean}\n * @api private\n */\n\nfunction isHost(obj) {\n  var str = {}.toString.call(obj);\n\n  switch (str) {\n    case '[object File]':\n    case '[object Blob]':\n    case '[object FormData]':\n      return true;\n    default:\n      return false;\n  }\n}\n\n/**\n * Determine XHR.\n */\n\nrequest.getXHR = function () {\n  if (root.XMLHttpRequest\n      && (!root.location || 'file:' != root.location.protocol\n          || !root.ActiveXObject)) {\n    return new XMLHttpRequest;\n  } else {\n    try { return new ActiveXObject('Microsoft.XMLHTTP'); } catch(e) {}\n    try { return new ActiveXObject('Msxml2.XMLHTTP.6.0'); } catch(e) {}\n    try { return new ActiveXObject('Msxml2.XMLHTTP.3.0'); } catch(e) {}\n    try { return new ActiveXObject('Msxml2.XMLHTTP'); } catch(e) {}\n  }\n  return false;\n};\n\n/**\n * Removes leading and trailing whitespace, added to support IE.\n *\n * @param {String} s\n * @return {String}\n * @api private\n */\n\nvar trim = ''.trim\n  ? function(s) { return s.trim(); }\n  : function(s) { return s.replace(/(^\\s*|\\s*$)/g, ''); };\n\n/**\n * Check if `obj` is an object.\n *\n * @param {Object} obj\n * @return {Boolean}\n * @api private\n */\n\nfunction isObject(obj) {\n  return obj === Object(obj);\n}\n\n/**\n * Serialize the given `obj`.\n *\n * @param {Object} obj\n * @return {String}\n * @api private\n */\n\nfunction serialize(obj) {\n  if (!isObject(obj)) return obj;\n  var pairs = [];\n  for (var key in obj) {\n    if (null != obj[key]) {\n      pairs.push(encodeURIComponent(key)\n        + '=' + encodeURIComponent(obj[key]));\n    }\n  }\n  return pairs.join('&');\n}\n\n/**\n * Expose serialization method.\n */\n\n request.serializeObject = serialize;\n\n /**\n  * Parse the given x-www-form-urlencoded `str`.\n  *\n  * @param {String} str\n  * @return {Object}\n  * @api private\n  */\n\nfunction parseString(str) {\n  var obj = {};\n  var pairs = str.split('&');\n  var parts;\n  var pair;\n\n  for (var i = 0, len = pairs.length; i < len; ++i) {\n    pair = pairs[i];\n    parts = pair.split('=');\n    obj[decodeURIComponent(parts[0])] = decodeURIComponent(parts[1]);\n  }\n\n  return obj;\n}\n\n/**\n * Expose parser.\n */\n\nrequest.parseString = parseString;\n\n/**\n * Default MIME type map.\n *\n *     superagent.types.xml = 'application/xml';\n *\n */\n\nrequest.types = {\n  html: 'text/html',\n  json: 'application/json',\n  xml: 'application/xml',\n  urlencoded: 'application/x-www-form-urlencoded',\n  'form': 'application/x-www-form-urlencoded',\n  'form-data': 'application/x-www-form-urlencoded'\n};\n\n/**\n * Default serialization map.\n *\n *     superagent.serialize['application/xml'] = function(obj){\n *       return 'generated xml here';\n *     };\n *\n */\n\n request.serialize = {\n   'application/x-www-form-urlencoded': serialize,\n   'application/json': JSON.stringify\n };\n\n /**\n  * Default parsers.\n  *\n  *     superagent.parse['application/xml'] = function(str){\n  *       return { object parsed from str };\n  *     };\n  *\n  */\n\nrequest.parse = {\n  'application/x-www-form-urlencoded': parseString,\n  'application/json': JSON.parse\n};\n\n/**\n * Parse the given header `str` into\n * an object containing the mapped fields.\n *\n * @param {String} str\n * @return {Object}\n * @api private\n */\n\nfunction parseHeader(str) {\n  var lines = str.split(/\\r?\\n/);\n  var fields = {};\n  var index;\n  var line;\n  var field;\n  var val;\n\n  lines.pop(); // trailing CRLF\n\n  for (var i = 0, len = lines.length; i < len; ++i) {\n    line = lines[i];\n    index = line.indexOf(':');\n    field = line.slice(0, index).toLowerCase();\n    val = trim(line.slice(index + 1));\n    fields[field] = val;\n  }\n\n  return fields;\n}\n\n/**\n * Return the mime type for the given `str`.\n *\n * @param {String} str\n * @return {String}\n * @api private\n */\n\nfunction type(str){\n  return str.split(/ *; */).shift();\n};\n\n/**\n * Return header field parameters.\n *\n * @param {String} str\n * @return {Object}\n * @api private\n */\n\nfunction params(str){\n  return reduce(str.split(/ *; */), function(obj, str){\n    var parts = str.split(/ *= */)\n      , key = parts.shift()\n      , val = parts.shift();\n\n    if (key && val) obj[key] = val;\n    return obj;\n  }, {});\n};\n\n/**\n * Initialize a new `Response` with the given `xhr`.\n *\n *  - set flags (.ok, .error, etc)\n *  - parse header\n *\n * Examples:\n *\n *  Aliasing `superagent` as `request` is nice:\n *\n *      request = superagent;\n *\n *  We can use the promise-like API, or pass callbacks:\n *\n *      request.get('/').end(function(res){});\n *      request.get('/', function(res){});\n *\n *  Sending data can be chained:\n *\n *      request\n *        .post('/user')\n *        .send({ name: 'tj' })\n *        .end(function(res){});\n *\n *  Or passed to `.send()`:\n *\n *      request\n *        .post('/user')\n *        .send({ name: 'tj' }, function(res){});\n *\n *  Or passed to `.post()`:\n *\n *      request\n *        .post('/user', { name: 'tj' })\n *        .end(function(res){});\n *\n * Or further reduced to a single call for simple cases:\n *\n *      request\n *        .post('/user', { name: 'tj' }, function(res){});\n *\n * @param {XMLHTTPRequest} xhr\n * @param {Object} options\n * @api private\n */\n\nfunction Response(req, options) {\n  options = options || {};\n  this.req = req;\n  this.xhr = this.req.xhr;\n  // responseText is accessible only if responseType is '' or 'text' and on older browsers\n  this.text = ((this.req.method !='HEAD' && (this.xhr.responseType === '' || this.xhr.responseType === 'text')) || typeof this.xhr.responseType === 'undefined')\n     ? this.xhr.responseText\n     : null;\n  this.statusText = this.req.xhr.statusText;\n  this.setStatusProperties(this.xhr.status);\n  this.header = this.headers = parseHeader(this.xhr.getAllResponseHeaders());\n  // getAllResponseHeaders sometimes falsely returns \"\" for CORS requests, but\n  // getResponseHeader still works. so we get content-type even if getting\n  // other headers fails.\n  this.header['content-type'] = this.xhr.getResponseHeader('content-type');\n  this.setHeaderProperties(this.header);\n  this.body = this.req.method != 'HEAD'\n    ? this.parseBody(this.text ? this.text : this.xhr.response)\n    : null;\n}\n\n/**\n * Get case-insensitive `field` value.\n *\n * @param {String} field\n * @return {String}\n * @api public\n */\n\nResponse.prototype.get = function(field){\n  return this.header[field.toLowerCase()];\n};\n\n/**\n * Set header related properties:\n *\n *   - `.type` the content type without params\n *\n * A response of \"Content-Type: text/plain; charset=utf-8\"\n * will provide you with a `.type` of \"text/plain\".\n *\n * @param {Object} header\n * @api private\n */\n\nResponse.prototype.setHeaderProperties = function(header){\n  // content-type\n  var ct = this.header['content-type'] || '';\n  this.type = type(ct);\n\n  // params\n  var obj = params(ct);\n  for (var key in obj) this[key] = obj[key];\n};\n\n/**\n * Parse the given body `str`.\n *\n * Used for auto-parsing of bodies. Parsers\n * are defined on the `superagent.parse` object.\n *\n * @param {String} str\n * @return {Mixed}\n * @api private\n */\n\nResponse.prototype.parseBody = function(str){\n  var parse = request.parse[this.type];\n  return parse && str && (str.length || str instanceof Object)\n    ? parse(str)\n    : null;\n};\n\n/**\n * Set flags such as `.ok` based on `status`.\n *\n * For example a 2xx response will give you a `.ok` of __true__\n * whereas 5xx will be __false__ and `.error` will be __true__. The\n * `.clientError` and `.serverError` are also available to be more\n * specific, and `.statusType` is the class of error ranging from 1..5\n * sometimes useful for mapping respond colors etc.\n *\n * \"sugar\" properties are also defined for common cases. Currently providing:\n *\n *   - .noContent\n *   - .badRequest\n *   - .unauthorized\n *   - .notAcceptable\n *   - .notFound\n *\n * @param {Number} status\n * @api private\n */\n\nResponse.prototype.setStatusProperties = function(status){\n  // handle IE9 bug: http://stackoverflow.com/questions/10046972/msie-returns-status-code-of-1223-for-ajax-request\n  if (status === 1223) {\n    status = 204;\n  }\n\n  var type = status / 100 | 0;\n\n  // status / class\n  this.status = status;\n  this.statusType = type;\n\n  // basics\n  this.info = 1 == type;\n  this.ok = 2 == type;\n  this.clientError = 4 == type;\n  this.serverError = 5 == type;\n  this.error = (4 == type || 5 == type)\n    ? this.toError()\n    : false;\n\n  // sugar\n  this.accepted = 202 == status;\n  this.noContent = 204 == status;\n  this.badRequest = 400 == status;\n  this.unauthorized = 401 == status;\n  this.notAcceptable = 406 == status;\n  this.notFound = 404 == status;\n  this.forbidden = 403 == status;\n};\n\n/**\n * Return an `Error` representative of this response.\n *\n * @return {Error}\n * @api public\n */\n\nResponse.prototype.toError = function(){\n  var req = this.req;\n  var method = req.method;\n  var url = req.url;\n\n  var msg = 'cannot ' + method + ' ' + url + ' (' + this.status + ')';\n  var err = new Error(msg);\n  err.status = this.status;\n  err.method = method;\n  err.url = url;\n\n  return err;\n};\n\n/**\n * Expose `Response`.\n */\n\nrequest.Response = Response;\n\n/**\n * Initialize a new `Request` with the given `method` and `url`.\n *\n * @param {String} method\n * @param {String} url\n * @api public\n */\n\nfunction Request(method, url) {\n  var self = this;\n  Emitter.call(this);\n  this._query = this._query || [];\n  this.method = method;\n  this.url = url;\n  this.header = {};\n  this._header = {};\n  this.on('end', function(){\n    var err = null;\n    var res = null;\n\n    try {\n      res = new Response(self);\n    } catch(e) {\n      err = new Error('Parser is unable to parse the response');\n      err.parse = true;\n      err.original = e;\n      return self.callback(err);\n    }\n\n    self.emit('response', res);\n\n    if (err) {\n      return self.callback(err, res);\n    }\n\n    if (res.status >= 200 && res.status < 300) {\n      return self.callback(err, res);\n    }\n\n    var new_err = new Error(res.statusText || 'Unsuccessful HTTP response');\n    new_err.original = err;\n    new_err.response = res;\n    new_err.status = res.status;\n\n    self.callback(err || new_err, res);\n  });\n}\n\n/**\n * Mixin `Emitter`.\n */\n\nEmitter(Request.prototype);\n\n/**\n * Allow for extension\n */\n\nRequest.prototype.use = function(fn) {\n  fn(this);\n  return this;\n}\n\n/**\n * Set timeout to `ms`.\n *\n * @param {Number} ms\n * @return {Request} for chaining\n * @api public\n */\n\nRequest.prototype.timeout = function(ms){\n  this._timeout = ms;\n  return this;\n};\n\n/**\n * Clear previous timeout.\n *\n * @return {Request} for chaining\n * @api public\n */\n\nRequest.prototype.clearTimeout = function(){\n  this._timeout = 0;\n  clearTimeout(this._timer);\n  return this;\n};\n\n/**\n * Abort the request, and clear potential timeout.\n *\n * @return {Request}\n * @api public\n */\n\nRequest.prototype.abort = function(){\n  if (this.aborted) return;\n  this.aborted = true;\n  this.xhr.abort();\n  this.clearTimeout();\n  this.emit('abort');\n  return this;\n};\n\n/**\n * Set header `field` to `val`, or multiple fields with one object.\n *\n * Examples:\n *\n *      req.get('/')\n *        .set('Accept', 'application/json')\n *        .set('X-API-Key', 'foobar')\n *        .end(callback);\n *\n *      req.get('/')\n *        .set({ Accept: 'application/json', 'X-API-Key': 'foobar' })\n *        .end(callback);\n *\n * @param {String|Object} field\n * @param {String} val\n * @return {Request} for chaining\n * @api public\n */\n\nRequest.prototype.set = function(field, val){\n  if (isObject(field)) {\n    for (var key in field) {\n      this.set(key, field[key]);\n    }\n    return this;\n  }\n  this._header[field.toLowerCase()] = val;\n  this.header[field] = val;\n  return this;\n};\n\n/**\n * Remove header `field`.\n *\n * Example:\n *\n *      req.get('/')\n *        .unset('User-Agent')\n *        .end(callback);\n *\n * @param {String} field\n * @return {Request} for chaining\n * @api public\n */\n\nRequest.prototype.unset = function(field){\n  delete this._header[field.toLowerCase()];\n  delete this.header[field];\n  return this;\n};\n\n/**\n * Get case-insensitive header `field` value.\n *\n * @param {String} field\n * @return {String}\n * @api private\n */\n\nRequest.prototype.getHeader = function(field){\n  return this._header[field.toLowerCase()];\n};\n\n/**\n * Set Content-Type to `type`, mapping values from `request.types`.\n *\n * Examples:\n *\n *      superagent.types.xml = 'application/xml';\n *\n *      request.post('/')\n *        .type('xml')\n *        .send(xmlstring)\n *        .end(callback);\n *\n *      request.post('/')\n *        .type('application/xml')\n *        .send(xmlstring)\n *        .end(callback);\n *\n * @param {String} type\n * @return {Request} for chaining\n * @api public\n */\n\nRequest.prototype.type = function(type){\n  this.set('Content-Type', request.types[type] || type);\n  return this;\n};\n\n/**\n * Set Accept to `type`, mapping values from `request.types`.\n *\n * Examples:\n *\n *      superagent.types.json = 'application/json';\n *\n *      request.get('/agent')\n *        .accept('json')\n *        .end(callback);\n *\n *      request.get('/agent')\n *        .accept('application/json')\n *        .end(callback);\n *\n * @param {String} accept\n * @return {Request} for chaining\n * @api public\n */\n\nRequest.prototype.accept = function(type){\n  this.set('Accept', request.types[type] || type);\n  return this;\n};\n\n/**\n * Set Authorization field value with `user` and `pass`.\n *\n * @param {String} user\n * @param {String} pass\n * @return {Request} for chaining\n * @api public\n */\n\nRequest.prototype.auth = function(user, pass){\n  var str = btoa(user + ':' + pass);\n  this.set('Authorization', 'Basic ' + str);\n  return this;\n};\n\n/**\n* Add query-string `val`.\n*\n* Examples:\n*\n*   request.get('/shoes')\n*     .query('size=10')\n*     .query({ color: 'blue' })\n*\n* @param {Object|String} val\n* @return {Request} for chaining\n* @api public\n*/\n\nRequest.prototype.query = function(val){\n  if ('string' != typeof val) val = serialize(val);\n  if (val) this._query.push(val);\n  return this;\n};\n\n/**\n * Write the field `name` and `val` for \"multipart/form-data\"\n * request bodies.\n *\n * ``` js\n * request.post('/upload')\n *   .field('foo', 'bar')\n *   .end(callback);\n * ```\n *\n * @param {String} name\n * @param {String|Blob|File} val\n * @return {Request} for chaining\n * @api public\n */\n\nRequest.prototype.field = function(name, val){\n  if (!this._formData) this._formData = new root.FormData();\n  this._formData.append(name, val);\n  return this;\n};\n\n/**\n * Queue the given `file` as an attachment to the specified `field`,\n * with optional `filename`.\n *\n * ``` js\n * request.post('/upload')\n *   .attach(new Blob(['<a id=\"a\"><b id=\"b\">hey!</b></a>'], { type: \"text/html\"}))\n *   .end(callback);\n * ```\n *\n * @param {String} field\n * @param {Blob|File} file\n * @param {String} filename\n * @return {Request} for chaining\n * @api public\n */\n\nRequest.prototype.attach = function(field, file, filename){\n  if (!this._formData) this._formData = new root.FormData();\n  this._formData.append(field, file, filename);\n  return this;\n};\n\n/**\n * Send `data`, defaulting the `.type()` to \"json\" when\n * an object is given.\n *\n * Examples:\n *\n *       // querystring\n *       request.get('/search')\n *         .end(callback)\n *\n *       // multiple data \"writes\"\n *       request.get('/search')\n *         .send({ search: 'query' })\n *         .send({ range: '1..5' })\n *         .send({ order: 'desc' })\n *         .end(callback)\n *\n *       // manual json\n *       request.post('/user')\n *         .type('json')\n *         .send('{\"name\":\"tj\"})\n *         .end(callback)\n *\n *       // auto json\n *       request.post('/user')\n *         .send({ name: 'tj' })\n *         .end(callback)\n *\n *       // manual x-www-form-urlencoded\n *       request.post('/user')\n *         .type('form')\n *         .send('name=tj')\n *         .end(callback)\n *\n *       // auto x-www-form-urlencoded\n *       request.post('/user')\n *         .type('form')\n *         .send({ name: 'tj' })\n *         .end(callback)\n *\n *       // defaults to x-www-form-urlencoded\n  *      request.post('/user')\n  *        .send('name=tobi')\n  *        .send('species=ferret')\n  *        .end(callback)\n *\n * @param {String|Object} data\n * @return {Request} for chaining\n * @api public\n */\n\nRequest.prototype.send = function(data){\n  var obj = isObject(data);\n  var type = this.getHeader('Content-Type');\n\n  // merge\n  if (obj && isObject(this._data)) {\n    for (var key in data) {\n      this._data[key] = data[key];\n    }\n  } else if ('string' == typeof data) {\n    if (!type) this.type('form');\n    type = this.getHeader('Content-Type');\n    if ('application/x-www-form-urlencoded' == type) {\n      this._data = this._data\n        ? this._data + '&' + data\n        : data;\n    } else {\n      this._data = (this._data || '') + data;\n    }\n  } else {\n    this._data = data;\n  }\n\n  if (!obj || isHost(data)) return this;\n  if (!type) this.type('json');\n  return this;\n};\n\n/**\n * Invoke the callback with `err` and `res`\n * and handle arity check.\n *\n * @param {Error} err\n * @param {Response} res\n * @api private\n */\n\nRequest.prototype.callback = function(err, res){\n  var fn = this._callback;\n  this.clearTimeout();\n  fn(err, res);\n};\n\n/**\n * Invoke callback with x-domain error.\n *\n * @api private\n */\n\nRequest.prototype.crossDomainError = function(){\n  var err = new Error('Origin is not allowed by Access-Control-Allow-Origin');\n  err.crossDomain = true;\n  this.callback(err);\n};\n\n/**\n * Invoke callback with timeout error.\n *\n * @api private\n */\n\nRequest.prototype.timeoutError = function(){\n  var timeout = this._timeout;\n  var err = new Error('timeout of ' + timeout + 'ms exceeded');\n  err.timeout = timeout;\n  this.callback(err);\n};\n\n/**\n * Enable transmission of cookies with x-domain requests.\n *\n * Note that for this to work the origin must not be\n * using \"Access-Control-Allow-Origin\" with a wildcard,\n * and also must set \"Access-Control-Allow-Credentials\"\n * to \"true\".\n *\n * @api public\n */\n\nRequest.prototype.withCredentials = function(){\n  this._withCredentials = true;\n  return this;\n};\n\n/**\n * Initiate request, invoking callback `fn(res)`\n * with an instanceof `Response`.\n *\n * @param {Function} fn\n * @return {Request} for chaining\n * @api public\n */\n\nRequest.prototype.end = function(fn){\n  var self = this;\n  var xhr = this.xhr = request.getXHR();\n  var query = this._query.join('&');\n  var timeout = this._timeout;\n  var data = this._formData || this._data;\n\n  // store callback\n  this._callback = fn || noop;\n\n  // state change\n  xhr.onreadystatechange = function(){\n    if (4 != xhr.readyState) return;\n\n    // In IE9, reads to any property (e.g. status) off of an aborted XHR will\n    // result in the error \"Could not complete the operation due to error c00c023f\"\n    var status;\n    try { status = xhr.status } catch(e) { status = 0; }\n\n    if (0 == status) {\n      if (self.timedout) return self.timeoutError();\n      if (self.aborted) return;\n      return self.crossDomainError();\n    }\n    self.emit('end');\n  };\n\n  // progress\n  var handleProgress = function(e){\n    if (e.total > 0) {\n      e.percent = e.loaded / e.total * 100;\n    }\n    self.emit('progress', e);\n  };\n  if (this.hasListeners('progress')) {\n    xhr.onprogress = handleProgress;\n  }\n  try {\n    if (xhr.upload && this.hasListeners('progress')) {\n      xhr.upload.onprogress = handleProgress;\n    }\n  } catch(e) {\n    // Accessing xhr.upload fails in IE from a web worker, so just pretend it doesn't exist.\n    // Reported here:\n    // https://connect.microsoft.com/IE/feedback/details/837245/xmlhttprequest-upload-throws-invalid-argument-when-used-from-web-worker-context\n  }\n\n  // timeout\n  if (timeout && !this._timer) {\n    this._timer = setTimeout(function(){\n      self.timedout = true;\n      self.abort();\n    }, timeout);\n  }\n\n  // querystring\n  if (query) {\n    query = request.serializeObject(query);\n    this.url += ~this.url.indexOf('?')\n      ? '&' + query\n      : '?' + query;\n  }\n\n  // initiate request\n  xhr.open(this.method, this.url, true);\n\n  // CORS\n  if (this._withCredentials) xhr.withCredentials = true;\n\n  // body\n  if ('GET' != this.method && 'HEAD' != this.method && 'string' != typeof data && !isHost(data)) {\n    // serialize stuff\n    var serialize = request.serialize[this.getHeader('Content-Type')];\n    if (serialize) data = serialize(data);\n  }\n\n  // set header fields\n  for (var field in this.header) {\n    if (null == this.header[field]) continue;\n    xhr.setRequestHeader(field, this.header[field]);\n  }\n\n  // send stuff\n  this.emit('request', this);\n  xhr.send(data);\n  return this;\n};\n\n/**\n * Expose `Request`.\n */\n\nrequest.Request = Request;\n\n/**\n * Issue a request:\n *\n * Examples:\n *\n *    request('GET', '/users').end(callback)\n *    request('/users').end(callback)\n *    request('/users', callback)\n *\n * @param {String} method\n * @param {String|Function} url or callback\n * @return {Request}\n * @api public\n */\n\nfunction request(method, url) {\n  // callback\n  if ('function' == typeof url) {\n    return new Request('GET', method).end(url);\n  }\n\n  // url first\n  if (1 == arguments.length) {\n    return new Request('GET', method);\n  }\n\n  return new Request(method, url);\n}\n\n/**\n * GET `url` with optional callback `fn(res)`.\n *\n * @param {String} url\n * @param {Mixed|Function} data or fn\n * @param {Function} fn\n * @return {Request}\n * @api public\n */\n\nrequest.get = function(url, data, fn){\n  var req = request('GET', url);\n  if ('function' == typeof data) fn = data, data = null;\n  if (data) req.query(data);\n  if (fn) req.end(fn);\n  return req;\n};\n\n/**\n * HEAD `url` with optional callback `fn(res)`.\n *\n * @param {String} url\n * @param {Mixed|Function} data or fn\n * @param {Function} fn\n * @return {Request}\n * @api public\n */\n\nrequest.head = function(url, data, fn){\n  var req = request('HEAD', url);\n  if ('function' == typeof data) fn = data, data = null;\n  if (data) req.send(data);\n  if (fn) req.end(fn);\n  return req;\n};\n\n/**\n * DELETE `url` with optional callback `fn(res)`.\n *\n * @param {String} url\n * @param {Function} fn\n * @return {Request}\n * @api public\n */\n\nrequest.del = function(url, fn){\n  var req = request('DELETE', url);\n  if (fn) req.end(fn);\n  return req;\n};\n\n/**\n * PATCH `url` with optional `data` and callback `fn(res)`.\n *\n * @param {String} url\n * @param {Mixed} data\n * @param {Function} fn\n * @return {Request}\n * @api public\n */\n\nrequest.patch = function(url, data, fn){\n  var req = request('PATCH', url);\n  if ('function' == typeof data) fn = data, data = null;\n  if (data) req.send(data);\n  if (fn) req.end(fn);\n  return req;\n};\n\n/**\n * POST `url` with optional `data` and callback `fn(res)`.\n *\n * @param {String} url\n * @param {Mixed} data\n * @param {Function} fn\n * @return {Request}\n * @api public\n */\n\nrequest.post = function(url, data, fn){\n  var req = request('POST', url);\n  if ('function' == typeof data) fn = data, data = null;\n  if (data) req.send(data);\n  if (fn) req.end(fn);\n  return req;\n};\n\n/**\n * PUT `url` with optional `data` and callback `fn(res)`.\n *\n * @param {String} url\n * @param {Mixed|Function} data or fn\n * @param {Function} fn\n * @return {Request}\n * @api public\n */\n\nrequest.put = function(url, data, fn){\n  var req = request('PUT', url);\n  if ('function' == typeof data) fn = data, data = null;\n  if (data) req.send(data);\n  if (fn) req.end(fn);\n  return req;\n};\n\n/**\n * Expose `request`.\n */\n\nmodule.exports = request;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/superagent/lib/client.js\n ** module id = 7\n ** module chunks = 0\n **/","\n/**\n * Expose `Emitter`.\n */\n\nmodule.exports = Emitter;\n\n/**\n * Initialize a new `Emitter`.\n *\n * @api public\n */\n\nfunction Emitter(obj) {\n  if (obj) return mixin(obj);\n};\n\n/**\n * Mixin the emitter properties.\n *\n * @param {Object} obj\n * @return {Object}\n * @api private\n */\n\nfunction mixin(obj) {\n  for (var key in Emitter.prototype) {\n    obj[key] = Emitter.prototype[key];\n  }\n  return obj;\n}\n\n/**\n * Listen on the given `event` with `fn`.\n *\n * @param {String} event\n * @param {Function} fn\n * @return {Emitter}\n * @api public\n */\n\nEmitter.prototype.on =\nEmitter.prototype.addEventListener = function(event, fn){\n  this._callbacks = this._callbacks || {};\n  (this._callbacks[event] = this._callbacks[event] || [])\n    .push(fn);\n  return this;\n};\n\n/**\n * Adds an `event` listener that will be invoked a single\n * time then automatically removed.\n *\n * @param {String} event\n * @param {Function} fn\n * @return {Emitter}\n * @api public\n */\n\nEmitter.prototype.once = function(event, fn){\n  var self = this;\n  this._callbacks = this._callbacks || {};\n\n  function on() {\n    self.off(event, on);\n    fn.apply(this, arguments);\n  }\n\n  on.fn = fn;\n  this.on(event, on);\n  return this;\n};\n\n/**\n * Remove the given callback for `event` or all\n * registered callbacks.\n *\n * @param {String} event\n * @param {Function} fn\n * @return {Emitter}\n * @api public\n */\n\nEmitter.prototype.off =\nEmitter.prototype.removeListener =\nEmitter.prototype.removeAllListeners =\nEmitter.prototype.removeEventListener = function(event, fn){\n  this._callbacks = this._callbacks || {};\n\n  // all\n  if (0 == arguments.length) {\n    this._callbacks = {};\n    return this;\n  }\n\n  // specific event\n  var callbacks = this._callbacks[event];\n  if (!callbacks) return this;\n\n  // remove all handlers\n  if (1 == arguments.length) {\n    delete this._callbacks[event];\n    return this;\n  }\n\n  // remove specific handler\n  var cb;\n  for (var i = 0; i < callbacks.length; i++) {\n    cb = callbacks[i];\n    if (cb === fn || cb.fn === fn) {\n      callbacks.splice(i, 1);\n      break;\n    }\n  }\n  return this;\n};\n\n/**\n * Emit `event` with the given args.\n *\n * @param {String} event\n * @param {Mixed} ...\n * @return {Emitter}\n */\n\nEmitter.prototype.emit = function(event){\n  this._callbacks = this._callbacks || {};\n  var args = [].slice.call(arguments, 1)\n    , callbacks = this._callbacks[event];\n\n  if (callbacks) {\n    callbacks = callbacks.slice(0);\n    for (var i = 0, len = callbacks.length; i < len; ++i) {\n      callbacks[i].apply(this, args);\n    }\n  }\n\n  return this;\n};\n\n/**\n * Return array of callbacks for `event`.\n *\n * @param {String} event\n * @return {Array}\n * @api public\n */\n\nEmitter.prototype.listeners = function(event){\n  this._callbacks = this._callbacks || {};\n  return this._callbacks[event] || [];\n};\n\n/**\n * Check if this emitter has `event` handlers.\n *\n * @param {String} event\n * @return {Boolean}\n * @api public\n */\n\nEmitter.prototype.hasListeners = function(event){\n  return !! this.listeners(event).length;\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/superagent/~/component-emitter/index.js\n ** module id = 8\n ** module chunks = 0\n **/","\n/**\n * Reduce `arr` with `fn`.\n *\n * @param {Array} arr\n * @param {Function} fn\n * @param {Mixed} initial\n *\n * TODO: combatible error handling?\n */\n\nmodule.exports = function(arr, fn, initial){  \n  var idx = 0;\n  var len = arr.length;\n  var curr = arguments.length == 3\n    ? initial\n    : arr[idx++];\n\n  while (idx < len) {\n    curr = fn.call(null, curr, arr[idx], ++idx, arr);\n  }\n  \n  return curr;\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/superagent/~/reduce-component/index.js\n ** module id = 9\n ** module chunks = 0\n **/","const now = +(new Date());\nlet index = 0;\n\nexport default function uid() {\n  return 'rc-upload-' + now + '-' + (++index);\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/uid.js\n **/","import React, {PropTypes} from 'react';\nimport uid from './uid';\nimport warning from 'warning';\nconst iframeStyle = {\n  position: 'absolute',\n  top: 0,\n  opacity: 0,\n  filter: 'alpha(opacity=0)',\n  left: 0,\n  zIndex: 9999,\n};\nconst IframeUploader = React.createClass({\n  propTypes: {\n    onStart: PropTypes.func,\n    multiple: PropTypes.bool,\n    children: PropTypes.any,\n    data: PropTypes.object,\n    action: PropTypes.string,\n    name: PropTypes.string,\n  },\n\n  componentDidMount() {\n    this.updateIframeWH();\n    this.initIframe();\n  },\n\n  componentDidUpdate() {\n    this.updateIframeWH();\n  },\n\n  onLoad() {\n    if (!this.loading) {\n      return;\n    }\n    const props = this.props;\n    let response;\n    const eventFile = this.file;\n    try {\n      const doc = this.getIframeDocument();\n      const script = doc.getElementsByTagName('script')[0];\n      if (script && script.parentNode === doc.body) {\n        doc.body.removeChild(script);\n      }\n      response = doc.body.innerHTML;\n      props.onSuccess(response, eventFile);\n    } catch (err) {\n      warning(false, 'cross domain error for Upload. Maybe server should return domain.domain script. see Note from https://github.com/react-component/upload');\n      response = 'cross-domain';\n      props.onError(err, null, eventFile);\n    }\n    this.enableIframe();\n    this.initIframe();\n  },\n\n  onChange() {\n    const target = this.getFormInputNode();\n    // ie8/9 don't support FileList Object\n    // http://stackoverflow.com/questions/12830058/ie8-input-type-file-get-files\n    const file = this.file = {\n      uid: uid(),\n      name: target.value,\n    };\n    this.props.onStart(this.getFileForMultiple(file));\n    const formNode = this.getFormNode();\n    const dataSpan = this.getFormDataNode();\n    let data = this.props.data;\n    if (typeof data === 'function') {\n      data = data();\n    }\n    const inputs = [];\n    for (const key in data) {\n      if (data.hasOwnProperty(key)) {\n        inputs.push(`<input name=\"${key}\" value=\"${data[key]}\"/>`);\n      }\n    }\n    dataSpan.innerHTML = inputs.join('');\n    formNode.submit();\n    dataSpan.innerHTML = '';\n    this.disabledIframe();\n  },\n\n  getIframeNode() {\n    return React.findDOMNode(this.refs.iframe);\n  },\n\n  getIframeDocument() {\n    return this.getIframeNode().contentDocument;\n  },\n\n  getFormNode() {\n    return this.getIframeDocument().getElementById('form');\n  },\n\n  getFormInputNode() {\n    return this.getIframeDocument().getElementById('input');\n  },\n\n  getFormDataNode() {\n    return this.getIframeDocument().getElementById('data');\n  },\n\n  getFileForMultiple(file) {\n    return this.props.multiple ? [file] : file;\n  },\n\n  getIframeHTML(domain) {\n    let domainScript = '';\n    let domainInput = '';\n    if (domain) {\n      domainScript = `<script>document.domain=\"${domain}\";</script>`;\n      domainInput = `<input name=\"_documentDomain\" value=\"${domain}\" />`;\n    }\n    return `\n    <!DOCTYPE html>\n    <html>\n    <head>\n    <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\" />\n    <style>\n    body,html {padding:0;margin:0;border:0;overflow:hidden;}\n    </style>\n    ${domainScript}\n    </head>\n    <body>\n    <form method=\"post\"\n    encType=\"multipart/form-data\"\n    action=\"${this.props.action}\" id=\"form\" style=\"display:block;height:9999px;position:relative;overflow:hidden;\">\n    <input id=\"input\" type=\"file\"\n     name=\"${this.props.name}\"\n     style=\"position:absolute;top:0;right:0;height:9999px;font-size:9999px;cursor:pointer;\"/>\n    ${domainInput}\n    <span id=\"data\"></span>\n    </form>\n    </body>\n    </html>\n    `;\n  },\n\n  render() {\n    return (\n      <span style={{position: 'relative', zIndex: 0}}>\n        <iframe ref=\"iframe\"\n                onLoad={this.onLoad}\n                style={iframeStyle}/>\n        {this.props.children}\n      </span>\n    );\n  },\n\n  initIframeSrc() {\n    if (this.domain) {\n      this.getIframeNode().src = `javascript:void((function(){\n        var d = document;\n        d.open();\n        d.domain='${this.domain}';\n        d.write('');\n        d.close();\n      })())`;\n    }\n  },\n\n  initIframe() {\n    const iframeNode = this.getIframeNode();\n    let win = iframeNode.contentWindow;\n    let doc;\n    this.domain = this.domain || '';\n    this.initIframeSrc();\n    try {\n      doc = win.document;\n    } catch (e) {\n      this.domain = document.domain;\n      this.initIframeSrc();\n      win = iframeNode.contentWindow;\n      doc = win.document;\n    }\n    doc.open('text/html', 'replace');\n    doc.write(this.getIframeHTML(this.domain));\n    doc.close();\n    this.getFormInputNode().onchange = this.onChange;\n  },\n\n  enableIframe() {\n    this.loading = false;\n    this.getIframeNode().style.display = '';\n  },\n\n  disabledIframe() {\n    this.loading = true;\n    this.getIframeNode().style.display = 'none';\n  },\n\n  updateIframeWH() {\n    const rootNode = React.findDOMNode(this);\n    const iframeNode = this.getIframeNode();\n    iframeNode.style.height = rootNode.offsetHeight + 'px';\n    iframeNode.style.width = rootNode.offsetWidth + 'px';\n  },\n});\n\nexport default IframeUploader;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/IframeUploader.jsx\n **/","/**\n * Copyright 2014-2015, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n */\n\n'use strict';\n\n/**\n * Similar to invariant but only logs a warning if the condition is not met.\n * This can be used to log issues in development environments in critical\n * paths. Removing the logging code for production environments will keep the\n * same logic and follow the same code paths.\n */\n\nvar warning = function() {};\n\nif (process.env.NODE_ENV !== 'production') {\n  warning = function(condition, format, args) {\n    var len = arguments.length;\n    args = new Array(len > 2 ? len - 2 : 0);\n    for (var key = 2; key < len; key++) {\n      args[key - 2] = arguments[key];\n    }\n    if (format === undefined) {\n      throw new Error(\n        '`warning(condition, format, ...args)` requires a warning ' +\n        'message argument'\n      );\n    }\n\n    if (format.length < 10 || (/^[s\\W]*$/).test(format)) {\n      throw new Error(\n        'The warning format should be able to uniquely identify this ' +\n        'warning. Please, use a more descriptive format than: ' + format\n      );\n    }\n\n    if (!condition) {\n      var argIndex = 0;\n      var message = 'Warning: ' +\n        format.replace(/%s/g, function() {\n          return args[argIndex++];\n        });\n      if (typeof console !== 'undefined') {\n        console.error(message);\n      }\n      try {\n        // This error was thrown as a convenience so that you can use this stack\n        // to find the callsite that caused this warning to fire.\n        throw new Error(message);\n      } catch(x) {}\n    }\n  };\n}\n\nmodule.exports = warning;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/warning/browser.js\n ** module id = 12\n ** module chunks = 0\n **/","// shim for using process in browser\n\nvar process = module.exports = {};\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = setTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    clearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        setTimeout(drainQueue, 0);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** (webpack)/~/node-libs-browser/~/process/browser.js\n ** module id = 13\n ** module chunks = 0\n **/"],"sourceRoot":""}